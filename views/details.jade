mixin examples(examplesArray)
	each example in examplesArray
		pre.example
			code= example


mixin see(seeArray)
	span Links:
	ul
		each see in seeArray
			- var link = tools.linkFromSee(see);
			li
				a(href=link.url)= link.name || link.url


		
mixin title(doclet, id)
	- var symbols = {'class': 'cube', 'module': 'cubes'}
	- var colors = {'class': 'blue', 'module': 'purple', 'function': 'green', 'member': 'magenta'}
	h2.title
		//.ui.circular.label(class=colors[doclet.kind])
		i.icon(class=symbols[doclet.kind] || 'leaf', style='color: ' + colors[doclet.kind] + ';')

			
		- var names = tools.splitName(doclet)
		.names
			span.module= names.module
			if doclet.kind == 'class'
				span.name
					+funcdeclx(names.name, doclet, true)
			else if doclet.kind == 'function'
				span.name
					+funcdeclx(names.name, doclet, false)
			else
				span.name= names.name
		a(href="#" + id)
			i.icon.linkify
	

mixin paramDetails(param)
	h4.paramname= param.name
		if param.type
			ul.types
				each type in param.type.names
					li.typename
						if tools.isBuiltInType(type)
							span= type
						else
							a(href='#' + tools.idFromLongname(type))= type
		if param.optional
			span.optional optional
		if param.defaultvalue !== undefined
			span.default , default: 
			span.defaultvalue= param.defaultvalue
	if param.description
		+optMarkdown(param.description, 'description')

mixin paramsList(params)
	ul.params
		each param in params
			li
				+paramDetails(param)

mixin details(doclet)
	if doclet.description
		+optMarkdown(doclet.description, 'description')
	if doclet.classdesc
		+optMarkdown(doclet.classdesc, 'classdesc')
	if !doclet.classdesc && !doclet.description
		p
			em No description available.
	if doclet.params && doclet.params.length > 0
		p Arguments:
		+paramsList(doclet.params)
	if doclet.returns && doclet.returns.length > 0
		p Returns:
		+paramsList(doclet.returns)
	if doclet.examples
		+examples(doclet.examples)
	if doclet.see
		+see(doclet.see)
	

mixin infolist(doclet)
	.ui.very.relaxed.horizontal.list
		.item
			i.large.tag.middle.aligned.icon
			.content
				.description Type
				.header= doclet.kind
		if doclet.scope
			.item
				i.large.unhide.middle.aligned.icon
				.content
					.description Scope
					.header= doclet.scope
		.item
			i.large.code.middle.aligned.icon
			.content
				.description Source
				a.header= doclet.meta.filename + ':' + doclet.meta.lineno
	
mixin doclet(doclet)
	- var id = tools.idFromLongname(doclet.longname)
	article.module(id=id)
		+title(doclet, id)
		+infolist(doclet)
		+details(doclet)
	
mixin module(module)
	h2.modulename(id=module.longname)
		.ui.horizontal.big.purple.label module
		span= tools.modulename(module.longname)
	if module.description
		+optMarkdown(module.description, 'moduledescription')
	else
		p
			em No description available.


each doclet in flat
	+doclet(doclet)

